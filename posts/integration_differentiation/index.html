<!doctype html><html lang=en dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="import numpy as np import matplotlib.pyplot as plt import seaborn seaborn.set_style('darkgrid') seaborn.set(font_scale=1.2) def draw_arrows(ax, top_from, top_to, top_text_xy, bottom_from, bottom_to, bottom_text_xy, diff_top=True): text_top = &#34;Differentiation&#34; text_bottom = &#34;Integration&#34; if not diff_top: text_top, text_bottom = text_bottom, text_top ax.annotate( &#34;&#34;, top_from, top_to, xycoords=&#34;axes fraction&#34;, size=&#34;large&#34;, ha=&#34;left&#34;, va=&#34;center&#34;, arrowprops=dict( arrowstyle=&#34;->&#34;, color=&#34;k&#34;, lw=2, connectionstyle=&#34;angle3,angleA=50,angleB=-50&#34;, ), ) ax.text(*top_text_xy, text_top, transform=ax.transAxes, ha=&#34;center&#34;) ax.annotate( &#34;&#34;, bottom_from, bottom_to, xycoords=&#34;axes fraction&#34;, size=&#34;large&#34;, ha=&#34;left&#34;, va=&#34;center&#34;, arrowprops=dict( arrowstyle=&#34;->&#34;, color=&#34;k&#34;, lw=2, connectionstyle=&#34;angle3,angleA=50,angleB=-50&#34;, ), ) ax."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Derivatives, integrals, anti-derivatives and anti-integrals"><meta property="og:description" content="import numpy as np import matplotlib.pyplot as plt import seaborn seaborn.set_style('darkgrid') seaborn.set(font_scale=1.2) def draw_arrows(ax, top_from, top_to, top_text_xy, bottom_from, bottom_to, bottom_text_xy, diff_top=True): text_top = &#34;Differentiation&#34; text_bottom = &#34;Integration&#34; if not diff_top: text_top, text_bottom = text_bottom, text_top ax.annotate( &#34;&#34;, top_from, top_to, xycoords=&#34;axes fraction&#34;, size=&#34;large&#34;, ha=&#34;left&#34;, va=&#34;center&#34;, arrowprops=dict( arrowstyle=&#34;->&#34;, color=&#34;k&#34;, lw=2, connectionstyle=&#34;angle3,angleA=50,angleB=-50&#34;, ), ) ax.text(*top_text_xy, text_top, transform=ax.transAxes, ha=&#34;center&#34;) ax.annotate( &#34;&#34;, bottom_from, bottom_to, xycoords=&#34;axes fraction&#34;, size=&#34;large&#34;, ha=&#34;left&#34;, va=&#34;center&#34;, arrowprops=dict( arrowstyle=&#34;->&#34;, color=&#34;k&#34;, lw=2, connectionstyle=&#34;angle3,angleA=50,angleB=-50&#34;, ), ) ax."><meta property="og:type" content="article"><meta property="og:url" content="https://ricardov94.github.io/posts/integration_differentiation/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-10T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-10T00:00:00+00:00"><title>Derivatives, integrals, anti-derivatives and anti-integrals | As long as everything adds up to one</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.336536302c9333426b2435f844b8628561bae88f21fec7883f90118e27d33980.css integrity="sha256-M2U2MCyTM0JrJDX4RLhihWG66I8h/seIP5ARjifTOYA=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.19d7d6f145ad2e87f5e6e3425d72f47956b2592c31545ee700e9b68271453c60.js integrity="sha256-GdfW8UWtLof15uNCXXL0eVayWSwxVF7nAOm2gnFFPGA=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/><span>As long as everything adds up to one</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://ricardov94.github.io/posts/successive_wins/>Successive Wins, from Fifty Challenging Problems in Probability</a></li><li><a href=https://ricardov94.github.io/posts/learning_accidents/>Praising learning accidents</a></li><li><a href=https://ricardov94.github.io/posts/integration_differentiation/ class=active>Derivatives, integrals, anti-derivatives and anti-integrals</a></li><li><a href=https://ricardov94.github.io/posts/smc_basic_algorithm/>A simple Sequential Monte Carlo algorithm for posterior approximation</a></li><li><a href=https://ricardov94.github.io/posts/gamma_distribution/>A most unprincipled derivation of the gamma distribution</a></li></ul><ul><li><a href=/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Derivatives, integrals, anti-derivatives and anti-integrals</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#integration-as-the-inverse-of-differentation>Integration as the inverse of differentation</a></li><li><a href=#differentiation-as-the-inverse-of-integration>Differentiation as the inverse of integration</a></li><li><a href=#bonus-illustrating-the-sin-function>Bonus: Illustrating the sin function</a></li></ul></nav><script>code_show=!0;function code_toggle(){code_show=!code_show,show=code_show?"block":"none",code_blocks=document.querySelectorAll(":not(.never-hide) > .highlight");for(let e of code_blocks)e.style.display=show}code_toggle()</script><a class=book-btn href=javascript:code_toggle()>Toggle Code</a></aside></header><article class=markdown><h1><a href=/posts/integration_differentiation/>Derivatives, integrals, anti-derivatives and anti-integrals</a></h1><h5>April 10, 2022</h5><div><a href=/categories/calculus/>calculus</a></div><div><a href=/tags/integration/>integration</a>,
<a href=/tags/differentiation/>differentiation</a></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>numpy</span> <span style=color:#00a8c8>as</span> <span style=color:#111>np</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>matplotlib.pyplot</span> <span style=color:#00a8c8>as</span> <span style=color:#111>plt</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#111>seaborn</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>seaborn</span><span style=color:#f92672>.</span><span style=color:#111>set_style</span><span style=color:#111>(</span><span style=color:#d88200>&#39;darkgrid&#39;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>seaborn</span><span style=color:#f92672>.</span><span style=color:#111>set</span><span style=color:#111>(</span><span style=color:#111>font_scale</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.2</span><span style=color:#111>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#00a8c8>def</span> <span style=color:#75af00>draw_arrows</span><span style=color:#111>(</span><span style=color:#111>ax</span><span style=color:#111>,</span> <span style=color:#111>top_from</span><span style=color:#111>,</span> <span style=color:#111>top_to</span><span style=color:#111>,</span> <span style=color:#111>top_text_xy</span><span style=color:#111>,</span> <span style=color:#111>bottom_from</span><span style=color:#111>,</span> <span style=color:#111>bottom_to</span><span style=color:#111>,</span> <span style=color:#111>bottom_text_xy</span><span style=color:#111>,</span> <span style=color:#111>diff_top</span><span style=color:#f92672>=</span><span style=color:#00a8c8>True</span><span style=color:#111>):</span>
</span></span><span style=display:flex><span>    <span style=color:#111>text_top</span> <span style=color:#f92672>=</span> <span style=color:#d88200>&#34;Differentiation&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#111>text_bottom</span> <span style=color:#f92672>=</span> <span style=color:#d88200>&#34;Integration&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>if</span> <span style=color:#f92672>not</span> <span style=color:#111>diff_top</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>        <span style=color:#111>text_top</span><span style=color:#111>,</span> <span style=color:#111>text_bottom</span> <span style=color:#f92672>=</span> <span style=color:#111>text_bottom</span><span style=color:#111>,</span> <span style=color:#111>text_top</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>annotate</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>        <span style=color:#d88200>&#34;&#34;</span><span style=color:#111>,</span> <span style=color:#111>top_from</span><span style=color:#111>,</span> <span style=color:#111>top_to</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>xycoords</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;axes fraction&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>size</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;large&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;left&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>arrowprops</span><span style=color:#f92672>=</span><span style=color:#111>dict</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>            <span style=color:#111>arrowstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;-&gt;&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>lw</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>            <span style=color:#111>connectionstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;angle3,angleA=50,angleB=-50&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#f92672>*</span><span style=color:#111>top_text_xy</span><span style=color:#111>,</span> <span style=color:#111>text_top</span><span style=color:#111>,</span> <span style=color:#111>transform</span><span style=color:#f92672>=</span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>transAxes</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>annotate</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>        <span style=color:#d88200>&#34;&#34;</span><span style=color:#111>,</span> <span style=color:#111>bottom_from</span><span style=color:#111>,</span> <span style=color:#111>bottom_to</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>xycoords</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;axes fraction&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>size</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;large&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;left&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>arrowprops</span><span style=color:#f92672>=</span><span style=color:#111>dict</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>            <span style=color:#111>arrowstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;-&gt;&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>lw</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>            <span style=color:#111>connectionstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;angle3,angleA=50,angleB=-50&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>)</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#f92672>*</span><span style=color:#111>bottom_text_xy</span><span style=color:#111>,</span> <span style=color:#111>text_bottom</span><span style=color:#111>,</span> <span style=color:#111>transform</span><span style=color:#f92672>=</span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>transAxes</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span><span style=color:#00a8c8>def</span> <span style=color:#75af00>draw_deltas</span><span style=color:#111>(</span><span style=color:#111>ax</span><span style=color:#111>,</span> <span style=color:#111>dx_from</span><span style=color:#111>,</span> <span style=color:#111>dx_to</span><span style=color:#111>,</span> <span style=color:#111>dx_width</span><span style=color:#111>,</span> <span style=color:#111>dy_from</span><span style=color:#111>,</span> <span style=color:#111>dy_to</span><span style=color:#111>,</span> <span style=color:#111>dy_width</span><span style=color:#111>,</span> <span style=color:#111>y_is_delta</span><span style=color:#f92672>=</span><span style=color:#00a8c8>True</span><span style=color:#111>):</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>annotate</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>        <span style=color:#d88200>&#34;$\Delta x$&#34;</span><span style=color:#111>,</span> <span style=color:#111>dx_from</span><span style=color:#111>,</span> <span style=color:#111>dx_to</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>size</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;large&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>arrowprops</span><span style=color:#f92672>=</span><span style=color:#111>dict</span><span style=color:#111>(</span><span style=color:#111>arrowstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>f</span><span style=color:#d88200>&#34;-[, widthB=</span><span style=color:#d88200>{</span><span style=color:#111>dx_width</span><span style=color:#d88200>}</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>)</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>annotate</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>        <span style=color:#d88200>&#34;$\Delta y$&#34;</span> <span style=color:#00a8c8>if</span> <span style=color:#111>y_is_delta</span> <span style=color:#00a8c8>else</span> <span style=color:#d88200>&#34;$y$&#34;</span><span style=color:#111>,</span> <span style=color:#111>dy_from</span><span style=color:#111>,</span> <span style=color:#111>dy_to</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>size</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;large&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;left&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>        <span style=color:#111>arrowprops</span><span style=color:#f92672>=</span><span style=color:#111>dict</span><span style=color:#111>(</span><span style=color:#111>arrowstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>f</span><span style=color:#d88200>&#34;-[, widthB=</span><span style=color:#d88200>{</span><span style=color:#111>dy_width</span><span style=color:#d88200>}</span><span style=color:#d88200>&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>)</span>
</span></span></code></pre></div><link rel=stylesheet href=/katex/katex.min.css><script defer src=/katex/katex.min.js></script><script defer src=/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span>\(\)</span><p>There are two ways of describing a sequence of (\(x\), \(y\)) points:</p><ol><li>Enumerate all (\(x\), \(y\)) pairs</li><li>Specify the first (\(x_0\), \(y_0\)) pair and the distance (\(\Delta x\), \(\Delta y\)) of each subsequent point</li></ol><p>In a loose sense, differentiation goes from 1. to 2., and integration goes from 2. to 1.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>f</span> <span style=color:#f92672>=</span> <span style=color:#00a8c8>lambda</span> <span style=color:#111>x</span><span style=color:#111>:</span> <span style=color:#111>x</span> <span style=color:#f92672>**</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#111>df</span> <span style=color:#f92672>=</span> <span style=color:#00a8c8>lambda</span> <span style=color:#111>x</span><span style=color:#111>:</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#111>x</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>dx</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.2</span>
</span></span><span style=display:flex><span><span style=color:#111>x</span> <span style=color:#f92672>=</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>arange</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>+</span><span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>dx</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>y</span> <span style=color:#f92672>=</span> <span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>focus</span> <span style=color:#f92672>=</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>array</span><span style=color:#111>([</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>5</span><span style=color:#111>,</span> <span style=color:#ae81ff>10</span><span style=color:#111>,</span> <span style=color:#ae81ff>15</span><span style=color:#111>])</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#111>,</span> <span style=color:#111>axes</span> <span style=color:#f92672>=</span> <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>subplots</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>,</span> <span style=color:#111>figsize</span><span style=color:#f92672>=</span><span style=color:#111>(</span><span style=color:#ae81ff>14</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#f92672>.</span><span style=color:#111>subplots_adjust</span><span style=color:#111>(</span><span style=color:#111>wspace</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.3</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#ae81ff>3.5</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.2</span><span style=color:#111>,</span> <span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#ae81ff>3.5</span><span style=color:#111>),</span> <span style=color:#d88200>&#34;$y = x^2$&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;bottom&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;right&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C2&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>vlines</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>y</span><span style=color:#111>[:</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>annotate</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;$(x_0, y_0)$&#34;</span><span style=color:#111>,</span> <span style=color:#111>(</span><span style=color:#ae81ff>0.05</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.05</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>.1</span><span style=color:#111>,</span> <span style=color:#ae81ff>3.3</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>size</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;large&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;left&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>arrowprops</span><span style=color:#f92672>=</span><span style=color:#111>dict</span><span style=color:#111>(</span><span style=color:#111>arrowstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;-&gt;&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>mid</span> <span style=color:#f92672>=</span> <span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#ae81ff>3</span><span style=color:#f92672>-</span><span style=color:#111>dx</span><span style=color:#111>)</span> <span style=color:#f92672>+</span> <span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#ae81ff>3</span><span style=color:#111>))</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#111>draw_deltas</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#ae81ff>7.5</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#ae81ff>6</span><span style=color:#111>),</span> <span style=color:#ae81ff>0.3</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#111>mid</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.6</span><span style=color:#111>,</span> <span style=color:#111>mid</span><span style=color:#111>),</span> <span style=color:#ae81ff>0.4</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>2</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>df</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)[</span><span style=color:#ae81ff>1</span><span style=color:#111>:]</span> <span style=color:#f92672>*</span> <span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>df</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)[</span><span style=color:#ae81ff>1</span><span style=color:#111>:][</span><span style=color:#111>focus</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span> <span style=color:#f92672>*</span> <span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>vlines</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>df</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)[</span><span style=color:#ae81ff>1</span><span style=color:#111>:]</span> <span style=color:#f92672>*</span> <span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#ae81ff>3.5</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#111>,</span> <span style=color:#111>df</span><span style=color:#111>(</span><span style=color:#ae81ff>3.5</span><span style=color:#111>)</span> <span style=color:#f92672>*</span> <span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;$\Delta y = 2x \Delta x$&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;bottom&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;right&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$\Delta y$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>draw_arrows</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#111>,</span> 
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#ae81ff>0.35</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.85</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.65</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.85</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.15</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.2</span><span style=color:#111>),</span> 
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.65</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>0.35</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.15</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>.3</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>for</span> <span style=color:#111>ax</span> <span style=color:#f92672>in</span> <span style=color:#111>axes</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;x&#34;</span><span style=color:#111>)</span>
</span></span></code></pre></div><p><img src=output_6_0.png alt=png></p><p>Actually when we differentiate, we rather store the ratio of \(\frac{\Delta y}{\Delta x}\),
which is also the slope of the straigth line that connects \((x_i, y_i)\) to \((x_{i+1}, y_{i+1})\)</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#111>,</span> <span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>subplots</span><span style=color:#111>(</span><span style=color:#111>figsize</span><span style=color:#f92672>=</span><span style=color:#111>(</span><span style=color:#ae81ff>4.5</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1.2</span><span style=color:#111>,</span><span style=color:#ae81ff>6</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1.2</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>([</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>2</span><span style=color:#111>],</span> <span style=color:#111>c</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>plot</span><span style=color:#111>([</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.1</span><span style=color:#111>],</span> <span style=color:#111>[</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.2</span><span style=color:#111>,</span> <span style=color:#ae81ff>2.2</span><span style=color:#111>],</span> <span style=color:#111>c</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>0.25</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.15</span><span style=color:#111>,</span> 
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;$</span><span style=color:#8045ff>\\</span><span style=color:#d88200>frac{y_{i+1} - y_i}{x_{i+1} - x_i} = </span><span style=color:#8045ff>\\</span><span style=color:#d88200>frac{\Delta y}{\Delta x} = 2$&#34;</span><span style=color:#111>,</span> 
</span></span><span style=display:flex><span>    <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span> <span style=color:#111>fontsize</span><span style=color:#f92672>=</span><span style=color:#ae81ff>20</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>rotation</span><span style=color:#f92672>=</span><span style=color:#ae81ff>60.5</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>annotate</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;$\Delta x$&#34;</span><span style=color:#111>,</span> <span style=color:#111>(</span><span style=color:#ae81ff>0.5</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.5</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>0.5</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.75</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>size</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;large&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>arrowprops</span><span style=color:#f92672>=</span><span style=color:#111>dict</span><span style=color:#111>(</span><span style=color:#111>arrowstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;-[, widthB=2.7&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,),</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylim</span><span style=color:#111>([</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>2.5</span><span style=color:#111>])</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlim</span><span style=color:#111>([</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.5</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.75</span><span style=color:#111>])</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>annotate</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;$\Delta y$&#34;</span><span style=color:#111>,</span> <span style=color:#111>(</span><span style=color:#ae81ff>1.25</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.0</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>1.5</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.0</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>size</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;large&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;left&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>arrowprops</span><span style=color:#f92672>=</span><span style=color:#111>dict</span><span style=color:#111>(</span><span style=color:#111>arrowstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;-[, widthB=4.6&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xticks</span><span style=color:#111>([</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.5</span><span style=color:#111>,</span> <span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.5</span><span style=color:#111>])</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_yticks</span><span style=color:#111>([</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>2</span><span style=color:#111>]);</span>
</span></span></code></pre></div><p><img src=output_8_0.png alt=png></p><p>This makes it so that the output of differentation is mostly the same regardless of the density of points in the original curve</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>dx1</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.1</span>
</span></span><span style=display:flex><span><span style=color:#111>x1</span> <span style=color:#f92672>=</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>arange</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>+</span><span style=color:#111>dx1</span><span style=color:#111>,</span> <span style=color:#111>dx1</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>dx2</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.25</span>
</span></span><span style=display:flex><span><span style=color:#111>x2</span> <span style=color:#f92672>=</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>arange</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>+</span><span style=color:#111>dx2</span><span style=color:#111>,</span> <span style=color:#111>dx2</span><span style=color:#111>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#111>,</span> <span style=color:#111>axes</span> <span style=color:#f92672>=</span> <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>subplots</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>,</span> <span style=color:#111>figsize</span><span style=color:#f92672>=</span><span style=color:#111>(</span><span style=color:#ae81ff>12</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>,</span> <span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>,</span> <span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>f</span><span style=color:#d88200>&#34;$\Delta x = </span><span style=color:#d88200>{</span><span style=color:#111>dx1</span><span style=color:#d88200>}</span><span style=color:#d88200>$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>,</span> <span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>,</span> <span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>f</span><span style=color:#d88200>&#34;$\Delta x = </span><span style=color:#d88200>{</span><span style=color:#111>dx2</span><span style=color:#d88200>}</span><span style=color:#d88200>$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>legend</span><span style=color:#111>()</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;x&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>)),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>)),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$\Delta y$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;x&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>2</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>))</span> <span style=color:#f92672>/</span> <span style=color:#111>dx1</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>))</span> <span style=color:#f92672>/</span> <span style=color:#111>dx2</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$</span><span style=color:#8045ff>\\</span><span style=color:#d88200>frac{\Delta y}{\Delta x}$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;x&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#f92672>.</span><span style=color:#111>tight_layout</span><span style=color:#111>();</span>
</span></span></code></pre></div><p><img src=output_11_0.png alt=png></p><h2 id=integration-as-the-inverse-of-differentation>Integration as the inverse of differentation
<a class=anchor href=#integration-as-the-inverse-of-differentation>#</a></h2><p>Once we have a set of differences (or difference ratios), we can restore the original curve by adding those differences, starting from the initial point \((x0, y0)\)</p><p>\[y_i = y_0 + \sum_0^x{\Delta y_i} = y_0 + \sum_0^x{\frac{\Delta y_i}{\Delta x}}\Delta x\]</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#111>,</span> <span style=color:#111>axes</span> <span style=color:#f92672>=</span> <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>subplots</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>,</span> <span style=color:#111>figsize</span><span style=color:#f92672>=</span><span style=color:#111>(</span><span style=color:#ae81ff>12</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>))</span> <span style=color:#f92672>/</span> <span style=color:#111>dx1</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>,</span> <span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>f</span><span style=color:#d88200>&#34;$\Delta x = </span><span style=color:#d88200>{</span><span style=color:#111>dx1</span><span style=color:#d88200>}</span><span style=color:#d88200>$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>))</span> <span style=color:#f92672>/</span> <span style=color:#111>dx2</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>,</span> <span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>f</span><span style=color:#d88200>&#34;$\Delta x = </span><span style=color:#d88200>{</span><span style=color:#111>dx2</span><span style=color:#d88200>}</span><span style=color:#d88200>$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>legend</span><span style=color:#111>();</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$</span><span style=color:#8045ff>\\</span><span style=color:#d88200>frac{\Delta y}{\Delta x}$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>cumsum</span><span style=color:#111>(</span><span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>),</span> <span style=color:#111>prepend</span><span style=color:#f92672>=</span><span style=color:#111>x1</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>])</span> <span style=color:#f92672>/</span> <span style=color:#111>dx1</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>cumsum</span><span style=color:#111>(</span><span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>),</span> <span style=color:#111>prepend</span><span style=color:#f92672>=</span><span style=color:#111>x2</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>])</span> <span style=color:#f92672>/</span> <span style=color:#111>dx2</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>cumsum</span><span style=color:#111>(</span><span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>),</span> <span style=color:#111>prepend</span><span style=color:#f92672>=</span><span style=color:#111>x1</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>])</span> <span style=color:#f92672>/</span> <span style=color:#111>dx1</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>cumsum</span><span style=color:#111>(</span><span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>),</span> <span style=color:#111>prepend</span><span style=color:#f92672>=</span><span style=color:#111>x2</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>])</span> <span style=color:#f92672>/</span> <span style=color:#111>dx2</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$y_0 + \sum_0^x{</span><span style=color:#8045ff>\\</span><span style=color:#d88200>frac{\Delta y}{\Delta x}}$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>2</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>cumsum</span><span style=color:#111>(</span><span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x1</span><span style=color:#111>),</span> <span style=color:#111>prepend</span><span style=color:#f92672>=</span><span style=color:#111>x1</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>])</span> <span style=color:#f92672>/</span> <span style=color:#111>dx1</span><span style=color:#111>)</span> <span style=color:#f92672>*</span> <span style=color:#111>dx1</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>cumsum</span><span style=color:#111>(</span><span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x2</span><span style=color:#111>),</span> <span style=color:#111>prepend</span><span style=color:#f92672>=</span><span style=color:#111>x2</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>])</span> <span style=color:#f92672>/</span> <span style=color:#111>dx2</span><span style=color:#111>)</span> <span style=color:#f92672>*</span> <span style=color:#111>dx2</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>s</span><span style=color:#f92672>=</span><span style=color:#ae81ff>14</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$y_0 + \sum_0^x{</span><span style=color:#8045ff>\\</span><span style=color:#d88200>frac{\Delta y}{\Delta x}\Delta x} = y_0 + \sum_0^x{\Delta y}$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>for</span> <span style=color:#111>ax</span> <span style=color:#f92672>in</span> <span style=color:#111>axes</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;x&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#f92672>.</span><span style=color:#111>tight_layout</span><span style=color:#111>();</span>
</span></span></code></pre></div><p><img src=output_14_0.png alt=png></p><p>In that sense integration is the inverse of differentation in the same sense that addition and multiplication are the inverses of subtraction and division.</p><p>If we add up (integrate) all the differences from a starting point, we get back the original series.</p><p>But this process of integration has another interesting meaning&mldr;</p><h2 id=differentiation-as-the-inverse-of-integration>Differentiation as the inverse of integration
<a class=anchor href=#differentiation-as-the-inverse-of-integration>#</a></h2><p>Let&rsquo;s grab the leftmost plot from above and forget that it describes \(\frac{\Delta y}{\Delta x}\).</p><p>Let&rsquo;s say we have just a vanilla \(y = 2x\) series.</p><p>What are we doing when we add up all the \(y\) up to \(x\) and multiply by \(\Delta x\)?</p><p>\[s_i = \sum_0^x{y \Delta x}\]</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>g</span> <span style=color:#f92672>=</span> <span style=color:#00a8c8>lambda</span> <span style=color:#111>x</span> <span style=color:#111>:</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#111>x</span>
</span></span><span style=display:flex><span><span style=color:#111>sg</span> <span style=color:#f92672>=</span> <span style=color:#00a8c8>lambda</span> <span style=color:#111>x</span> <span style=color:#111>:</span> <span style=color:#111>x</span> <span style=color:#f92672>**</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>dx</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.25</span>
</span></span><span style=display:flex><span><span style=color:#111>x</span> <span style=color:#f92672>=</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>arange</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#ae81ff>3.5</span><span style=color:#f92672>+</span><span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>dx</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>y</span> <span style=color:#f92672>=</span> <span style=color:#111>g</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>focus</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>9</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#111>,</span> <span style=color:#111>axes</span> <span style=color:#f92672>=</span> <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>subplots</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>,</span> <span style=color:#111>figsize</span><span style=color:#f92672>=</span><span style=color:#111>(</span><span style=color:#ae81ff>14</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#f92672>.</span><span style=color:#111>subplots_adjust</span><span style=color:#111>(</span><span style=color:#111>wspace</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.3</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#ae81ff>3.2</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.2</span><span style=color:#111>,</span> <span style=color:#111>g</span><span style=color:#111>(</span><span style=color:#ae81ff>3.2</span><span style=color:#111>),</span> <span style=color:#d88200>&#34;$y = 2x$&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;bottom&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;right&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>:],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>:],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>vlines</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>fill_between</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#111>step</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;post&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>bar</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span><span style=color:#f92672>+</span><span style=color:#111>dx</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>width</span><span style=color:#f92672>=</span><span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>ec</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylim</span><span style=color:#111>([</span><span style=color:#f92672>-</span><span style=color:#ae81ff>.5</span><span style=color:#111>,</span> <span style=color:#00a8c8>None</span><span style=color:#111>])</span>
</span></span><span style=display:flex><span><span style=color:#111>mid</span> <span style=color:#f92672>=</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#111>draw_deltas</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1.0</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1.8</span><span style=color:#111>),</span> <span style=color:#ae81ff>0.4</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.15</span><span style=color:#111>,</span> <span style=color:#111>mid</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.4</span><span style=color:#111>,</span> <span style=color:#111>mid</span><span style=color:#111>),</span> <span style=color:#ae81ff>3.58</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>y_is_delta</span><span style=color:#f92672>=</span><span style=color:#00a8c8>False</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>2</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>]),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>vlines</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>]),</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#ae81ff>3.1</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.2</span><span style=color:#111>,</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#ae81ff>3.1</span><span style=color:#111>),</span> <span style=color:#d88200>&#34;$s </span><span style=color:#8045ff>\\</span><span style=color:#d88200>approx x^2$&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;right&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$s = \sum_0^x{\ y \Delta x}$&#34;</span><span style=color:#111>,</span> <span style=color:#111>labelpad</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>5</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>draw_arrows</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#ae81ff>0.35</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.2</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.85</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.65</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.2</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.85</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.15</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.2</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.65</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>0.35</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.15</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>.3</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>diff_top</span><span style=color:#f92672>=</span><span style=color:#00a8c8>False</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>for</span> <span style=color:#111>ax</span> <span style=color:#f92672>in</span> <span style=color:#111>axes</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;x&#34;</span><span style=color:#111>)</span>
</span></span></code></pre></div><p><img src=output_19_0.png alt=png></p><p>We are adding up the areas of the rectangles below \(y\) up to \(x\)! So our function \(s\) is an area function!</p><p>Now, the difference between successive points in that area function \(\Delta s_i\)
gives us the difference in areas up to \(x_{i}\) and up to \(x_{i-1}\), which must intuitively be \(y_i\Delta x\)
and the ratio \(\frac{y_i \Delta x}{\Delta x} = y_i\)</p><p>This is just another way of saying that differentation is the inverse of integration.</p><h2 id=bonus-illustrating-the-sin-function>Bonus: Illustrating the sin function
<a class=anchor href=#bonus-illustrating-the-sin-function>#</a></h2><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>f</span> <span style=color:#f92672>=</span> <span style=color:#00a8c8>lambda</span> <span style=color:#111>x</span><span style=color:#111>:</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>sin</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>df</span> <span style=color:#f92672>=</span> <span style=color:#00a8c8>lambda</span> <span style=color:#111>x</span><span style=color:#111>:</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>cos</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>dx</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.3</span>
</span></span><span style=display:flex><span><span style=color:#111>x</span> <span style=color:#f92672>=</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>arange</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>pi</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span><span style=color:#f92672>+</span><span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>dx</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>y</span> <span style=color:#f92672>=</span> <span style=color:#111>f</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>focus</span> <span style=color:#f92672>=</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>array</span><span style=color:#111>([</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>6</span><span style=color:#111>,</span> <span style=color:#ae81ff>11</span><span style=color:#111>,</span> <span style=color:#ae81ff>16</span><span style=color:#111>])</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#111>,</span> <span style=color:#111>axes</span> <span style=color:#f92672>=</span> <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>subplots</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>,</span> <span style=color:#111>figsize</span><span style=color:#f92672>=</span><span style=color:#111>(</span><span style=color:#ae81ff>14</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#f92672>.</span><span style=color:#111>subplots_adjust</span><span style=color:#111>(</span><span style=color:#111>wspace</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.3</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#ae81ff>6</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.5</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;$y = sin(x)$&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;bottom&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;right&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C2&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>vlines</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>y</span><span style=color:#111>[:</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>annotate</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#d88200>&#34;$(x_0, y_0)$&#34;</span><span style=color:#111>,</span> <span style=color:#111>(</span><span style=color:#ae81ff>0.05</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.05</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>.1</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>.3</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>size</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;large&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;left&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;center&#34;</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>arrowprops</span><span style=color:#f92672>=</span><span style=color:#111>dict</span><span style=color:#111>(</span><span style=color:#111>arrowstyle</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;-&gt;&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>draw_deltas</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#ae81ff>3.2</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.52</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>3.2</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.75</span><span style=color:#111>),</span> <span style=color:#ae81ff>.25</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#ae81ff>3.7</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.27</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>4.05</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.27</span><span style=color:#111>),</span> <span style=color:#ae81ff>.85</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>2</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>y</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>y</span><span style=color:#111>)[</span><span style=color:#111>focus</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>vlines</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>:],</span> <span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>diff</span><span style=color:#111>(</span><span style=color:#111>y</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#ae81ff>5.25</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.2</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;$\Delta y </span><span style=color:#8045ff>\\</span><span style=color:#d88200>approx cos(x) \Delta x$&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;bottom&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;right&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$\Delta y$&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>draw_arrows</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#ae81ff>0.35</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.85</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.65</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.85</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.15</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.2</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1.0</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.22</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>0.15</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.22</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.35</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>.21</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>for</span> <span style=color:#111>ax</span> <span style=color:#f92672>in</span> <span style=color:#111>axes</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;x&#34;</span><span style=color:#111>);</span>
</span></span></code></pre></div><p><img src=output_23_0.png alt=png></p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>g</span> <span style=color:#f92672>=</span> <span style=color:#00a8c8>lambda</span> <span style=color:#111>x</span> <span style=color:#111>:</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>cos</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>sg</span> <span style=color:#f92672>=</span> <span style=color:#00a8c8>lambda</span> <span style=color:#111>x</span> <span style=color:#111>:</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>sin</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>dx</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.25</span>
</span></span><span style=display:flex><span><span style=color:#111>x</span> <span style=color:#f92672>=</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>arange</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>np</span><span style=color:#f92672>.</span><span style=color:#111>pi</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2</span><span style=color:#f92672>+</span><span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>dx</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>y</span> <span style=color:#f92672>=</span> <span style=color:#111>g</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>)</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#111>focus</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>9</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#111>,</span> <span style=color:#111>axes</span> <span style=color:#f92672>=</span> <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>subplots</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>,</span> <span style=color:#111>figsize</span><span style=color:#f92672>=</span><span style=color:#111>(</span><span style=color:#ae81ff>14</span><span style=color:#111>,</span> <span style=color:#ae81ff>4</span><span style=color:#111>))</span>
</span></span><span style=display:flex><span><span style=color:#111>fig</span><span style=color:#f92672>.</span><span style=color:#111>subplots_adjust</span><span style=color:#111>(</span><span style=color:#111>wspace</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.35</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#ae81ff>5.3</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.75</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;$y = cos(x)$&#34;</span><span style=color:#111>,</span> <span style=color:#111>va</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;bottom&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;right&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>:],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>:],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>vlines</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>fill_between</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>[:</span><span style=color:#111>focus</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span><span style=color:#111>],</span> <span style=color:#111>step</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;post&#34;</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>bar</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span><span style=color:#f92672>+</span><span style=color:#111>dx</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>],</span> <span style=color:#111>width</span><span style=color:#f92672>=</span><span style=color:#111>dx</span><span style=color:#111>,</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.7</span><span style=color:#111>,</span> <span style=color:#111>ec</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;y&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ax.set_ylim([-.5, None])</span>
</span></span><span style=display:flex><span><span style=color:#111>mid</span> <span style=color:#f92672>=</span> <span style=color:#111>y</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#111>draw_deltas</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.1</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#ae81ff>.3</span><span style=color:#111>),</span> <span style=color:#ae81ff>0.3</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.3</span><span style=color:#111>,</span> <span style=color:#111>mid</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#111>focus</span><span style=color:#111>]</span> <span style=color:#f92672>+</span> <span style=color:#111>dx</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.65</span><span style=color:#111>,</span> <span style=color:#111>mid</span><span style=color:#111>),</span> <span style=color:#ae81ff>1.78</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>y_is_delta</span><span style=color:#f92672>=</span><span style=color:#00a8c8>False</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span> <span style=color:#f92672>=</span> <span style=color:#111>axes</span><span style=color:#111>[</span><span style=color:#ae81ff>2</span><span style=color:#111>]</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;k&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>10</span><span style=color:#111>],</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>10</span><span style=color:#111>]),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C1&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>scatter</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>11</span><span style=color:#111>],</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>11</span><span style=color:#111>]),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>vlines</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>11</span><span style=color:#111>],</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>10</span><span style=color:#111>]),</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>[</span><span style=color:#ae81ff>11</span><span style=color:#111>]),</span> <span style=color:#111>color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;C0&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>text</span><span style=color:#111>(</span><span style=color:#ae81ff>6.5</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.1</span><span style=color:#111>,</span> <span style=color:#111>sg</span><span style=color:#111>(</span><span style=color:#ae81ff>6.5</span><span style=color:#111>)</span><span style=color:#f92672>+</span> <span style=color:#ae81ff>0.3</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;$s </span><span style=color:#8045ff>\\</span><span style=color:#d88200>approx sin(x)$&#34;</span><span style=color:#111>,</span> <span style=color:#111>ha</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;right&#34;</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span><span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_ylabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;$s = \sum_0^x{\ y \Delta x}$&#34;</span><span style=color:#111>,</span> <span style=color:#111>labelpad</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>5</span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>draw_arrows</span><span style=color:#111>(</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#ae81ff>0.35</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.25</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.85</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.65</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.25</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.85</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.35</span><span style=color:#111>,</span> <span style=color:#ae81ff>1.2</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.65</span><span style=color:#111>,</span> <span style=color:#ae81ff>.1</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#ae81ff>0.35</span><span style=color:#111>,</span> <span style=color:#ae81ff>0.1</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.15</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>.3</span><span style=color:#111>),</span>
</span></span><span style=display:flex><span>    <span style=color:#111>diff_top</span><span style=color:#f92672>=</span><span style=color:#00a8c8>False</span><span style=color:#111>,</span>
</span></span><span style=display:flex><span><span style=color:#111>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00a8c8>for</span> <span style=color:#111>ax</span> <span style=color:#f92672>in</span> <span style=color:#111>axes</span><span style=color:#111>:</span>
</span></span><span style=display:flex><span>    <span style=color:#111>ax</span><span style=color:#f92672>.</span><span style=color:#111>set_xlabel</span><span style=color:#111>(</span><span style=color:#d88200>&#34;x&#34;</span><span style=color:#111>)</span>
</span></span></code></pre></div><p><img src=output_25_0.png alt=png></p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/ricardoV94/ricardoV94.github.io.website/edit/master/content/posts/integration_differentiation.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#integration-as-the-inverse-of-differentation>Integration as the inverse of differentation</a></li><li><a href=#differentiation-as-the-inverse-of-integration>Differentiation as the inverse of integration</a></li><li><a href=#bonus-illustrating-the-sin-function>Bonus: Illustrating the sin function</a></li></ul></nav><script>code_show=!0;function code_toggle(){code_show=!code_show,show=code_show?"block":"none",code_blocks=document.querySelectorAll(":not(.never-hide) > .highlight");for(let e of code_blocks)e.style.display=show}code_toggle()</script><a class=book-btn href=javascript:code_toggle()>Toggle Code</a></div></aside></main></body></html>